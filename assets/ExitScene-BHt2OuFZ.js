import{_ as x,k,s as y,r as d,a as o,o as r,b as m,g as s,h as t,i as n,d as T,t as p,l as u}from"./index-BvDZGiXJ.js";import{u as C}from"./gameStore-B4sM_fRz.js";import{S as b}from"./StatusPanel-D7wBwpiy.js";import{L as V}from"./LogViewer-Bdyhurey.js";const v={class:"scene-content"},w={key:0},G={key:1},N={key:2},i=100,R={__name:"ExitScene",setup(B){const g=k(),e=C(),{logs:c}=y(e),_=()=>{e.gameState.hasTreasure&&e.completeGame()},S=()=>{e.resetGame(),e.addLog("å†’é™©å·²é‡ç½®ï¼Œé‡æ–°å¼€å§‹æŽ¢ç´¢å§ï¼","info"),g.push("/")},f=()=>{g.push("/ranking")};return(E,a)=>{const l=d("el-button"),h=d("el-card");return r(),o("div",v,[a[4]||(a[4]=m("h1",{class:"page-title"},"èƒœåˆ©å‡ºå£",-1)),s(b,{gold:t(e).gameState.gold,helpers:t(e).gameState.helpers,hasClue:t(e).gameState.hasClue,hasTreasure:t(e).gameState.hasTreasure},null,8,["gold","helpers","hasClue","hasTreasure"]),s(h,{class:"action-card"},{default:n(()=>[a[3]||(a[3]=m("h3",null,"å†’é™©ç»“ç®—",-1)),t(e).gameState.hasTreasure?(r(),o("p",w," ðŸŽ‰ æ­å–œï¼ä½ æˆåŠŸæ‰¾åˆ°å®è—ï¼ŒèŽ·å¾—äº† "+p(i)+" é‡‘å¸å¥–åŠ±ï¼ ")):T("",!0),t(e).gameState.hasTreasure?(r(),o("p",G," æœ€ç»ˆå¾—åˆ†: "+p(t(e).gameState.score+i),1)):(r(),o("p",N," ä½ å°šæœªæ‰¾åˆ°å®è—ï¼Œæ— æ³•ç»“ç®—å¥–åŠ± ")),m("p",null,"å½“å‰æ€»é‡‘å¸: "+p(t(e).gameState.gold+(t(e).gameState.hasTreasure?i:0)),1),s(l,{type:"primary",onClick:_,style:{"margin-top":"10px","margin-right":"10px"},disabled:!t(e).gameState.hasTreasure||t(e).gameState.gameCompleted},{default:n(()=>[...a[0]||(a[0]=[u(" ç»“ç®—å¥–åŠ± ",-1)])]),_:1},8,["disabled"]),s(l,{type:"warning",onClick:S,style:{"margin-top":"10px"}},{default:n(()=>[...a[1]||(a[1]=[u(" é‡æ–°å¼€å§‹å†’é™© ",-1)])]),_:1}),s(l,{type:"info",onClick:f,style:{"margin-top":"10px","margin-left":"10px"}},{default:n(()=>[...a[2]||(a[2]=[u(" æŸ¥çœ‹æŽ’è¡Œæ¦œ ",-1)])]),_:1})]),_:1}),s(V,{logs:t(c)},null,8,["logs"])])}}},P=x(R,[["__scopeId","data-v-2f91da25"]]);export{P as default};
